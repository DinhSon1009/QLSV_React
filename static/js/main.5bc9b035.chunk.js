(this.webpackJsonpnew=this.webpackJsonpnew||[]).push([[0],{283:function(e,t,n){},284:function(e,t,n){"use strict";n.r(t);var i=n(0),a=n(32),o=n.n(a),c=n(39),s=n(40),r=n(43),l=n(41),d=n(51),u=n(173),p=n(285),h=n(53),j=(n(145),n(79)),b="THEM_SINH_VIEN",O="SET_DANH_SACH_SV",f="OPEN_MODAL",v="CLOSE_MODAL",m="ON_FAILED_STATUS",y=n(93),x=n.n(y),g="https://621b1529faa12ee45004ec80.mockapi.io/sinhvien",E=function(){return x()({method:"GET",url:g})},S=function(e){return x()({method:"DELETE",url:"".concat(g,"/").concat(e)})},T=function(e){return x()({method:"POST",url:g,data:e})},F=function(e,t){return x()({method:"PUT",url:"".concat(g,"/").concat(e),data:t})},I=function(e){return x()({url:"".concat(g,"/").concat(e),method:"GET"})},C=n(9),L=function(e){Object(r.a)(n,e);var t=Object(l.a)(n);function n(){return Object(c.a)(this,n),t.apply(this,arguments)}return Object(s.a)(n,[{key:"render",value:function(){var e=this,t=this.props.dssv,n=p.a.Column;return Object(C.jsxs)(p.a,{dataSource:Object(u.a)(t),rowKey:"id",children:[Object(C.jsx)(n,{title:"ID",dataIndex:"id"},"id"),Object(C.jsx)(n,{title:"Name",dataIndex:"name",width:200},"name"),Object(C.jsx)(n,{title:"Email",dataIndex:"email"},"email"),Object(C.jsx)(n,{title:"Phone",dataIndex:"phone"},"phone"),Object(C.jsx)(n,{width:300,title:"Edit",render:function(t,n){return Object(C.jsxs)(C.Fragment,{children:[Object(C.jsx)(h.a,{type:"primary","data-toggle":"modal","data-target":"#myModal",onClick:function(){return t=n.id,void I(t).then((function(n){e.props.openModal(t,n.data)}));var t},children:"EDIT"}),Object(C.jsx)(h.a,{type:"danger",onClick:function(){return t=n.id,void S(t).then((function(t){E().then((function(t){e.props.setDssv(t.data)})).catch((function(e){console.log(e)}))})).catch((function(e){console.log(e)}));var t},children:"DELETE"}),Object(C.jsx)(h.a,{type:"primary",ghost:!0,children:Object(C.jsx)(j.b,{className:"text-white",to:"/detail/".concat(n.id),children:"Xem chi tiet"})})]})}},"edit")]})}}]),n}(i.Component),D=Object(d.b)((function(e){return{dssv:e.qlsvReducer.dssv,onFinish:e.qlsvReducer.onFinish}}),(function(e){return{setDssv:function(t){e({type:O,payload:t})},openModal:function(t,n){e({type:f,payload:{edit:"edit",onEditId:t,onEditSv:n}})}}}))(L),_=n(288),w=n(286),M=n(171),N=function(e){Object(r.a)(n,e);var t=Object(l.a)(n);function n(){var e;Object(c.a)(this,n);for(var a=arguments.length,o=new Array(a),s=0;s<a;s++)o[s]=arguments[s];return(e=t.call.apply(t,[this].concat(o))).formRef=Object(i.createRef)(),e.onFinish=function(t){e.props.sinhVien(t),null===e.props.onEditSv&&T(t).then((function(t){e.formRef.current.resetFields(),E().then((function(t){e.props.setDssv(t.data)})).catch((function(e){console.log(e)}))})).catch((function(e){console.log(e)})),e.props.onEditSv&&F(e.props.onEditId,t).then((function(t){E().then((function(t){e.props.setDssv(t.data)})).catch((function(e){console.log(e)}))})).catch((function(e){console.log(e)}))},e.onFinishFailed=function(t){e.props.onFailed(e.formRef)},e}return Object(s.a)(n,[{key:"componentDidUpdate",value:function(){this.props.onEditSv?this.formRef.current.setFieldsValue(this.props.onEditSv):this.formRef.current.setFieldsValue({name:"",phone:"",email:"",id:""})}},{key:"render",value:function(){return Object(C.jsxs)(w.a,{id:"myForm",ref:this.formRef,name:"basic",labelCol:{span:4},wrapperCol:{span:20},initialValues:this.props.onEditSv,onFinish:this.onFinish,onFinishFailed:this.onFinishFailed,autoComplete:"off",children:[Object(C.jsx)(w.a.Item,{label:"ID",name:"id",rules:[{required:!0,message:"Please input id!"}],children:Object(C.jsx)(M.a,{disabled:this.props.onEditSv})}),Object(C.jsx)(w.a.Item,{label:"Name",name:"name",rules:[{required:!0,message:"Please input name!"}],children:Object(C.jsx)(M.a,{})}),Object(C.jsx)(w.a.Item,{label:"Email",name:"email",rules:[{required:!0,message:"Please input email!"}],children:Object(C.jsx)(M.a,{})}),Object(C.jsx)(w.a.Item,{label:"Phone",name:"phone",rules:[{required:!0,message:"Please input phone!"}],children:Object(C.jsx)(M.a,{})})]})}}]),n}(i.Component),R=Object(d.b)((function(e){return{editMode:e.qlsvReducer.editMode,onEditId:e.qlsvReducer.onEditId,onEditSv:e.qlsvReducer.onEditSv}}),(function(e){return{sinhVien:function(t){e({type:b,payload:t})},setDssv:function(t){e({type:O,payload:t})},onFailed:function(t){e({type:m,payload:t})}}}))(N),k=function(e){Object(r.a)(n,e);var t=Object(l.a)(n);function n(){return Object(c.a)(this,n),t.apply(this,arguments)}return Object(s.a)(n,[{key:"render",value:function(){var e=this,t=function(){var t,n;null===(t=e.props.onFailed)||void 0===t||null===(n=t.current)||void 0===n||n.resetFields(),e.props.handleCancel()};return Object(C.jsxs)(C.Fragment,{children:[Object(C.jsx)(h.a,{type:"primary",onClick:this.props.showModal,children:"Open Modal"}),Object(C.jsx)(_.a,{title:"Basic Modal",visible:this.props.isModalVisible,onCancel:t,footer:[Object(C.jsx)(h.a,{form:"myForm",htmlType:"submit",children:this.props.onEditSv?"S\u1eeda":"Th\xeam"},"submit"),Object(C.jsx)(h.a,{onClick:t,children:"Cancel"},"cancel")],children:Object(C.jsx)(R,{})})]})}}]),n}(i.Component),V=Object(d.b)((function(e){return{isModalVisible:e.qlsvReducer.isModalVisible,onFailed:e.qlsvReducer.onFailed,onEditSv:e.qlsvReducer.onEditSv}}),(function(e){return{showModal:function(){e({type:f})},handleCancel:function(){e({type:v})}}}))(k),q=n(287),A="BAT_LOADING",P="TAT_LOADING",U=function(){return{type:A}},H=function(){return{type:P}},X=function(e){Object(r.a)(n,e);var t=Object(l.a)(n);function n(){return Object(c.a)(this,n),t.apply(this,arguments)}return Object(s.a)(n,[{key:"componentDidMount",value:function(){var e=this;this.props.batLoading(),E().then((function(t){e.props.tatLoading(),e.props.setDssv(t.data)})).catch((function(t){e.props.tatLoading(),console.log(t)}))}},{key:"render",value:function(){var e=q.a.Text;return Object(C.jsxs)("div",{children:[Object(C.jsx)(q.a.Title,{style:{margin:"2rem",textAlign:"center"},children:Object(C.jsx)(e,{type:"success",children:"QU\u1ea2N L\xdd SINH VI\xcaN"})}),Object(C.jsx)(V,{}),Object(C.jsx)(D,{})]})}}]),n}(i.Component),G=Object(d.b)(null,(function(e){return{setDssv:function(t){e({type:O,payload:t})},batLoading:function(){e(U())},tatLoading:function(){e(H())}}}))(X),B=n(31),J=(i.Component,function(e){Object(r.a)(n,e);var t=Object(l.a)(n);function n(){var e;Object(c.a)(this,n);for(var i=arguments.length,a=new Array(i),o=0;o<i;o++)a[o]=arguments[o];return(e=t.call.apply(t,[this].concat(a))).state={thongTinChiTiet:{}},e}return Object(s.a)(n,[{key:"componentDidMount",value:function(){var e=this;this.props.batLoading(),I(this.props.match.params.id).then((function(t){e.props.tatLoading(),e.setState({thongTinChiTiet:t.data})})).catch((function(t){e.props.tatLoading(),console.log(t)}))}},{key:"render",value:function(){var e,t,n;return Object(C.jsxs)("div",{className:"container detail",children:[Object(C.jsxs)("p",{className:"p",children:["T\xean:",Object(C.jsx)("span",{style:{color:"#88b04b"},children:null===(e=this.state.thongTinChiTiet)||void 0===e?void 0:e.name})]}),Object(C.jsxs)("p",{className:"p",children:["Email:",Object(C.jsx)("span",{style:{color:"#88b04b"},children:null===(t=this.state.thongTinChiTiet)||void 0===t?void 0:t.email})]}),Object(C.jsxs)("p",{className:"p",children:["Phone:",Object(C.jsx)("span",{style:{color:"#88b04b"},children:null===(n=this.state.thongTinChiTiet)||void 0===n?void 0:n.phone})]})]})}}]),n}(i.Component)),z=Object(d.b)(null,(function(e){return{batLoading:function(){e(U())},tatLoading:function(){e(H())}}}))(J),K=(n(283),function(e){Object(r.a)(n,e);var t=Object(l.a)(n);function n(){return Object(c.a)(this,n),t.apply(this,arguments)}return Object(s.a)(n,[{key:"render",value:function(){return Object(C.jsx)("div",{children:Object(C.jsx)(j.b,{exact:!0,style:{marginRight:"20px"},activeStyle:{color:"red"},to:"/",children:"Trang ch\u1ee7"})})}}]),n}(i.Component)),Q=n(170),W=n.n(Q),Y=function(e){Object(r.a)(n,e);var t=Object(l.a)(n);function n(){return Object(c.a)(this,n),t.apply(this,arguments)}return Object(s.a)(n,[{key:"render",value:function(){return this.props.isLoading?Object(C.jsx)("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",position:"fixed",width:"100vw",height:"100vh",background:"black",zIndex:1e3},children:Object(C.jsx)(W.a,{type:"spin",color:"#ccc",height:75,width:75})}):Object(C.jsx)(C.Fragment,{})}}]),n}(i.Component),Z=Object(d.b)((function(e){return{isLoading:e.loadingReducer.isLoading}}))(Y),$=function(){return Object(C.jsxs)(j.a,{children:[Object(C.jsx)(K,{}),Object(C.jsx)(Z,{}),Object(C.jsxs)(B.c,{children:[Object(C.jsx)(B.a,{exact:!0,path:"/dssv",component:G}),Object(C.jsx)(B.a,{exact:!0,path:"/detail/:id",component:z}),Object(C.jsx)(B.a,{path:"/",component:G})]})]})},ee=n(123),te=n(54),ne={dssv:[],isModalVisible:!1,onFinish:!1,onFailed:null,onEditId:"",onEditSv:null},ie={isLoading:!1},ae=Object(ee.a)({qlsvReducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ne,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case O:return Object(te.a)(Object(te.a)({},e),{},{dssv:t.payload});case b:return Object(te.a)(Object(te.a)({},e),{},{isModalVisible:!1,onFinish:!0});case f:return Object(te.a)(Object(te.a)({},e),{},{isModalVisible:!0,onFinish:!1,onEditId:t.payload&&t.payload.onEditId?t.payload.onEditId:"",onEditSv:t.payload&&t.payload.onEditSv?t.payload.onEditSv:null});case v:return Object(te.a)(Object(te.a)({},e),{},{isModalVisible:!1,onEditSv:null});case m:return Object(te.a)(Object(te.a)({},e),{},{onFailed:t.payload});default:return e}},loadingReducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ie,t=arguments.length>1?arguments[1]:void 0,n=t.type;switch(n){case A:return e.count++,e.isLoading=!0,Object(te.a)({},e);case P:return e.isLoading=!1,Object(te.a)({},e);default:return e}}}),oe=Object(ee.b)(ae,window.__REDUX_DEVTOOLS_EXTENSION__&&window.__REDUX_DEVTOOLS_EXTENSION__());o.a.render(Object(C.jsx)(d.a,{store:oe,children:Object(C.jsx)($,{})}),document.getElementById("root"))}},[[284,1,2]]]);
//# sourceMappingURL=main.5bc9b035.chunk.js.map