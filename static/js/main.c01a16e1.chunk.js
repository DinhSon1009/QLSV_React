(this.webpackJsonpnew=this.webpackJsonpnew||[]).push([[0],{283:function(e,t,n){},284:function(e,t,n){"use strict";n.r(t);var i=n(0),a=n(32),o=n.n(a),c=n(39),s=n(40),r=n(43),d=n(41),l=n(52),u=n(173),p=n(285),h=n(54),j=(n(145),n(79)),b="THEM_SINH_VIEN",O="SUA_SINH_VIEN",f="SET_DANH_SACH_SV",v="OPEN_MODAL",m="CLOSE_MODAL",y="ON_FAILED_STATUS",x=n(93),g=n.n(x),E="https://621b1529faa12ee45004ec80.mockapi.io/sinhvien",S=function(){return g()({method:"GET",url:E})},T=function(e){return g()({method:"DELETE",url:"".concat(E,"/").concat(e)})},I=function(e){return g()({method:"POST",url:E,data:e})},M=function(e,t){return g()({method:"PUT",url:"".concat(E,"/").concat(e),data:t})},F=function(e){return g()({url:"".concat(E,"/").concat(e),method:"GET"})},C=n(9),L=function(e){Object(r.a)(n,e);var t=Object(d.a)(n);function n(){return Object(c.a)(this,n),t.apply(this,arguments)}return Object(s.a)(n,[{key:"render",value:function(){var e=this,t=this.props,n=t.dssv,i=(t.editMode,p.a.Column);return Object(C.jsxs)(p.a,{dataSource:Object(u.a)(n),rowKey:"id",children:[Object(C.jsx)(i,{title:"ID",dataIndex:"id"},"id"),Object(C.jsx)(i,{title:"Name",dataIndex:"name",width:200},"name"),Object(C.jsx)(i,{title:"Email",dataIndex:"email"},"email"),Object(C.jsx)(i,{title:"Phone",dataIndex:"phone"},"phone"),Object(C.jsx)(i,{width:300,title:"Edit",render:function(t,n){return Object(C.jsxs)(C.Fragment,{children:[Object(C.jsx)(h.a,{type:"primary","data-toggle":"modal","data-target":"#myModal",onClick:function(){return t=n.id,void F(t).then((function(n){e.props.openModal(t,n.data)}));var t},children:"EDIT"}),Object(C.jsx)(h.a,{type:"danger",onClick:function(){return t=n.id,void T(t).then((function(t){S().then((function(t){e.props.setDssv(t.data)})).catch((function(e){console.log(e)}))})).catch((function(e){console.log(e)}));var t},children:"DELETE"}),Object(C.jsx)(h.a,{type:"primary",ghost:!0,children:Object(C.jsx)(j.b,{className:"text-white",to:"/detail/".concat(n.id),children:"Xem chi tiet"})})]})}},"edit")]})}}]),n}(i.Component),D=Object(l.b)((function(e){return{dssv:e.qlsvReducer.dssv,editMode:e.qlsvReducer.editMode,onFinish:e.qlsvReducer.onFinish}}),(function(e){return{setDssv:function(t){e({type:f,payload:t})},openModal:function(t,n){e({type:v,payload:{edit:"edit",onEditId:t,onEditSv:n}})}}}))(L),_=n(288),N=n(286),R=n(171),w=function(e){Object(r.a)(n,e);var t=Object(d.a)(n);function n(){var e;Object(c.a)(this,n);for(var a=arguments.length,o=new Array(a),s=0;s<a;s++)o[s]=arguments[s];return(e=t.call.apply(t,[this].concat(o))).formRef=Object(i.createRef)(),e.onFinish=function(t){e.props.sinhVien(t),!1===e.props.editMode&&I(t).then((function(t){e.formRef.current.resetFields(),S().then((function(t){e.props.setDssv(t.data)})).catch((function(e){console.log(e)}))})).catch((function(e){console.log(e)})),e.props.editMode&&M(e.props.onEditId,t).then((function(t){S().then((function(t){e.props.setDssv(t.data)})).catch((function(e){console.log(e)}))})).catch((function(e){console.log(e)}))},e.onFinishFailed=function(t){e.props.onFailed(e.formRef)},e}return Object(s.a)(n,[{key:"componentDidUpdate",value:function(){this.props.onEditSv?this.formRef.current.setFieldsValue(this.props.onEditSv):this.formRef.current.setFieldsValue({name:"",phone:"",email:"",id:""})}},{key:"render",value:function(){return Object(C.jsxs)(N.a,{id:"myForm",ref:this.formRef,name:"basic",labelCol:{span:4},wrapperCol:{span:20},initialValues:this.props.onEditSv,onFinish:this.onFinish,onFinishFailed:this.onFinishFailed,autoComplete:"off",children:[Object(C.jsx)(N.a.Item,{label:"ID",name:"id",rules:[{required:!0,message:"Please input id!"}],children:Object(C.jsx)(R.a,{disabled:this.props.onEditSv})}),Object(C.jsx)(N.a.Item,{label:"Name",name:"name",rules:[{required:!0,message:"Please input name!"}],children:Object(C.jsx)(R.a,{})}),Object(C.jsx)(N.a.Item,{label:"Email",name:"email",rules:[{required:!0,message:"Please input email!"}],children:Object(C.jsx)(R.a,{})}),Object(C.jsx)(N.a.Item,{label:"Phone",name:"phone",rules:[{required:!0,message:"Please input phone!"}],children:Object(C.jsx)(R.a,{})})]})}}]),n}(i.Component),k=Object(l.b)((function(e){return{editMode:e.qlsvReducer.editMode,onEditId:e.qlsvReducer.onEditId,onEditSv:e.qlsvReducer.onEditSv}}),(function(e){return{sinhVien:function(t){e({type:b,payload:t})},setDssv:function(t){e({type:f,payload:t})},onFailed:function(t){e({type:y,payload:t})},suaSv:function(t){e({type:O,payload:t})}}}))(w),V=function(e){Object(r.a)(n,e);var t=Object(d.a)(n);function n(){return Object(c.a)(this,n),t.apply(this,arguments)}return Object(s.a)(n,[{key:"render",value:function(){var e=this,t=function(){e.props.failedStatus&&e.props.onFailed.current.resetFields(),e.props.handleCancel()};return Object(C.jsxs)(C.Fragment,{children:[Object(C.jsx)(h.a,{type:"primary",onClick:this.props.showModal,children:"Open Modal"}),Object(C.jsx)(_.a,{title:"Basic Modal",visible:this.props.isModalVisible,onCancel:t,footer:[Object(C.jsx)(h.a,{form:"myForm",htmlType:"submit",children:this.props.editMode?"S\u1eeda":"Th\xeam"},"submit"),Object(C.jsx)(h.a,{onClick:t,children:"Cancel"},"cancel")],children:Object(C.jsx)(k,{})})]})}}]),n}(i.Component),q=Object(l.b)((function(e){return{isModalVisible:e.qlsvReducer.isModalVisible,onFailed:e.qlsvReducer.onFailed,failedStatus:e.qlsvReducer.failedStatus,editMode:e.qlsvReducer.editMode}}),(function(e){return{showModal:function(){e({type:v})},handleCancel:function(){e({type:m})}}}))(V),A=n(287),P="BAT_LOADING",U="TAT_LOADING",H=function(){return{type:P}},X=function(){return{type:U}},G=function(e){Object(r.a)(n,e);var t=Object(d.a)(n);function n(){return Object(c.a)(this,n),t.apply(this,arguments)}return Object(s.a)(n,[{key:"componentDidMount",value:function(){var e=this;this.props.batLoading(),S().then((function(t){e.props.tatLoading(),e.props.setDssv(t.data)})).catch((function(t){e.props.tatLoading(),console.log(t)}))}},{key:"render",value:function(){var e=A.a.Text;return Object(C.jsxs)("div",{children:[Object(C.jsx)(A.a.Title,{style:{margin:"2rem",textAlign:"center"},children:Object(C.jsx)(e,{type:"success",children:"QU\u1ea2N L\xdd SINH VI\xcaN"})}),Object(C.jsx)(q,{}),Object(C.jsx)(D,{})]})}}]),n}(i.Component),B=Object(l.b)(null,(function(e){return{setDssv:function(t){e({type:f,payload:t})},batLoading:function(){e(H())},tatLoading:function(){e(X())}}}))(G),J=n(31),z=(i.Component,function(e){Object(r.a)(n,e);var t=Object(d.a)(n);function n(){var e;Object(c.a)(this,n);for(var i=arguments.length,a=new Array(i),o=0;o<i;o++)a[o]=arguments[o];return(e=t.call.apply(t,[this].concat(a))).state={thongTinChiTiet:{}},e}return Object(s.a)(n,[{key:"componentDidMount",value:function(){var e=this;this.props.batLoading(),F(this.props.match.params.id).then((function(t){e.props.tatLoading(),e.setState({thongTinChiTiet:t.data})})).catch((function(t){e.props.tatLoading(),console.log(t)}))}},{key:"render",value:function(){var e,t,n;return Object(C.jsxs)("div",{className:"container detail",children:[Object(C.jsxs)("p",{className:"p",children:["T\xean:",Object(C.jsx)("span",{style:{color:"#88b04b"},children:null===(e=this.state.thongTinChiTiet)||void 0===e?void 0:e.name})]}),Object(C.jsxs)("p",{className:"p",children:["Email:",Object(C.jsx)("span",{style:{color:"#88b04b"},children:null===(t=this.state.thongTinChiTiet)||void 0===t?void 0:t.email})]}),Object(C.jsxs)("p",{className:"p",children:["Phone:",Object(C.jsx)("span",{style:{color:"#88b04b"},children:null===(n=this.state.thongTinChiTiet)||void 0===n?void 0:n.phone})]})]})}}]),n}(i.Component)),K=Object(l.b)(null,(function(e){return{batLoading:function(){e(H())},tatLoading:function(){e(X())}}}))(z),Q=(n(283),function(e){Object(r.a)(n,e);var t=Object(d.a)(n);function n(){return Object(c.a)(this,n),t.apply(this,arguments)}return Object(s.a)(n,[{key:"render",value:function(){return Object(C.jsx)("div",{children:Object(C.jsx)(j.b,{exact:!0,style:{marginRight:"20px"},activeStyle:{color:"red"},to:"/",children:"Trang ch\u1ee7"})})}}]),n}(i.Component)),W=n(170),Y=n.n(W),Z=function(e){Object(r.a)(n,e);var t=Object(d.a)(n);function n(){return Object(c.a)(this,n),t.apply(this,arguments)}return Object(s.a)(n,[{key:"render",value:function(){return this.props.isLoading?Object(C.jsx)("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",position:"fixed",width:"100vw",height:"100vh",background:"black",zIndex:1e3},children:Object(C.jsx)(Y.a,{type:"spin",color:"#ccc",height:75,width:75})}):Object(C.jsx)(C.Fragment,{})}}]),n}(i.Component),$=Object(l.b)((function(e){return{isLoading:e.loadingReducer.isLoading}}))(Z),ee=function(){return Object(C.jsxs)(j.a,{children:[Object(C.jsx)(Q,{}),Object(C.jsx)($,{}),Object(C.jsxs)(J.c,{children:[Object(C.jsx)(J.a,{exact:!0,path:"/dssv",component:B}),Object(C.jsx)(J.a,{exact:!0,path:"/detail/:id",component:K}),Object(C.jsx)(J.a,{path:"/",component:B})]})]})},te=n(123),ne=n(46),ie={dssv:[],isModalVisible:!1,editMode:!1,onFinish:!1,onFailed:{},failedStatus:!1,onEditId:"",onEditSv:null},ae={isLoading:!1},oe=Object(te.a)({qlsvReducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ie,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case f:return Object(ne.a)(Object(ne.a)({},e),{},{dssv:t.payload});case b:return Object(ne.a)(Object(ne.a)({},e),{},{isModalVisible:!1,onFinish:!0});case O:return Object(ne.a)(Object(ne.a)({},e),{},{isModalVisible:!0,editMode:!0});case v:return Object(ne.a)(Object(ne.a)({},e),{},{isModalVisible:!0,onFinish:!1,editMode:!(!t.payload||"edit"!==t.payload.edit),onEditId:t.payload&&t.payload.onEditId?t.payload.onEditId:"",onEditSv:t.payload&&t.payload.onEditSv?t.payload.onEditSv:null});case m:return Object(ne.a)(Object(ne.a)({},e),{},{isModalVisible:!1,onEditSv:null});case y:return Object(ne.a)(Object(ne.a)({},e),{},{onFailed:t.payload,failedStatus:!0});default:return e}},loadingReducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ae,t=arguments.length>1?arguments[1]:void 0,n=t.type;switch(n){case P:return e.count++,e.isLoading=!0,Object(ne.a)({},e);case U:return e.isLoading=!1,Object(ne.a)({},e);default:return e}}}),ce=Object(te.b)(oe,window.__REDUX_DEVTOOLS_EXTENSION__&&window.__REDUX_DEVTOOLS_EXTENSION__());o.a.render(Object(C.jsx)(l.a,{store:ce,children:Object(C.jsx)(ee,{})}),document.getElementById("root"))}},[[284,1,2]]]);
//# sourceMappingURL=main.c01a16e1.chunk.js.map